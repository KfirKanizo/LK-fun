<!DOCTYPE html>
<html lang="he" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>×”×™×™ ×œ×™×Ÿ, ××” ××•×›×œ×™× ×”×™×•×?</title>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <style>
        body {
            font-family: 'Rubik', sans-serif;
            text-align: center;
            /* ×’×¨×“×™×× ×˜ ×•×¨×•×“ ×¨×•×× ×˜×™ */
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 99%, #fecfef 100%);
            color: #d63031;
            margin: 0;
            padding: 20px 10px;
            /* ×¤×—×•×ª ×¨×™×•×•×— ×‘×¦×“×“×™× ×œ××•×‘×™×™×œ */
            min-height: 100vh;
            overflow-x: hidden;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1 {
            /* ×’×•×“×œ ×˜×§×¡×˜ ×“×™× ××™ - ××ª××™× ××ª ×¢×¦××• ×œ××¡×š */
            font-size: clamp(1.8rem, 5vw, 2.5rem);
            text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.5);
            margin-bottom: 5px;
            color: #e84393;
        }

        .subtitle {
            font-size: clamp(1rem, 4vw, 1.2rem);
            margin-bottom: 20px;
            color: #6c5ce7;
            font-weight: 500;
        }

        .wheel-container {
            position: relative;
            /* ×¨×¡×¤×•× ×¡×™×‘×™×•×ª ×œ××•×‘×™×™×œ: */
            width: 90vw;
            /* ×ª×•×¤×¡ 90% ××¨×•×—×‘ ×”××¡×š ×‘×˜×œ×¤×•×Ÿ */
            height: 90vw;
            /* ×©×•××¨ ×¢×œ ×¤×¨×•×¤×•×¨×¦×™×” ×¨×™×‘×•×¢×™×ª */
            max-width: 340px;
            /* ×œ× ×¢×•×‘×¨ ××ª ×”-340 ×¤×™×§×¡×œ×™× ×‘××—×©×‘ */
            max-height: 340px;
            margin: 0 auto;
        }

        .luckywheel {
            width: 100%;
            height: 100%;
        }

        svg {
            width: 100%;
            height: 100%;
            filter: drop-shadow(0px 10px 15px rgba(0, 0, 0, 0.1));
        }

        /* ×¦×‘×¢×™ ×”××©×•×œ×©×™× - ×”×‘×”×¨×ª×™ ×§×¦×ª ×©×™×ª××™××• ×œ×•×¨×•×“ */
        #_1,
        #_7 {
            fill: #ff7675;
        }

        #_2,
        #_8 {
            fill: #fab1a0;
        }

        #_3,
        #_9 {
            fill: #ffeaa7;
        }

        #_4,
        #_10 {
            fill: #55efc4;
        }

        #_5,
        #_11 {
            fill: #74b9ff;
        }

        #_6,
        #_12 {
            fill: #a29bfe;
        }

        .frame,
        .sticks {
            fill: #fff;
        }

        .winIndicator {
            fill: #2d3436;
        }

        .wheelMiddle {
            fill: #fff;
        }

        .sector-emoji {
            font-size: 45px;
            font-family: "Segoe UI Emoji", "Apple Color Emoji", sans-serif;
            pointer-events: none;
        }

        .controls {
            margin-top: 30px;
            width: 100%;
            display: flex;
            justify-content: center;
        }

        button {
            background-color: #e84393;
            /* ×›×¤×ª×•×¨ ×•×¨×•×“ ×—×–×§ */
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(232, 67, 147, 0.4);
            transition: transform 0.2s;
            font-family: 'Rubik', sans-serif;
            width: 90%;
            /* ×›×¤×ª×•×¨ ×¨×—×‘ ×•× ×•×— ×‘×˜×œ×¤×•×Ÿ */
            max-width: 300px;
            -webkit-tap-highlight-color: transparent;
            /* ××•× ×¢ ×”×‘×”×•×‘ ×‘×œ×—×™×¦×” ×‘×˜×œ×¤×•×Ÿ */
        }

        button:active {
            transform: scale(0.95);
        }

        button:disabled {
            background-color: #b2bec3;
            box-shadow: none;
            cursor: default;
        }

        #result-box {
            margin-top: 25px;
            font-size: 1.2rem;
            font-weight: bold;
            min-height: 80px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 20px;
            display: none;
            width: 85%;
            max-width: 400px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes popIn {
            from {
                opacity: 0;
                transform: scale(0.8) translateY(20px);
            }

            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .result-emoji {
            font-size: 3.5rem;
            display: block;
            margin-bottom: 5px;
        }
    </style>
</head>

<body>

    <h1>×”×™×™ ×œ×™×Ÿ, ××” ××•×›×œ×™× ×”×™×•×? ğŸ˜‹</h1>
    <div class="subtitle">×× ×™ ×œ× ×™×•×“×¢ ××” ××™×ª×š, ××‘×œ ×”×‘×˜×Ÿ ×©×œ×™ ×¢×•×©×” ×¨×¢×©×™×...</div>

    <div class="wheel-container">
        <div class="luckywheel">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 730 730">
                <g class="wheel">
                    <circle class="frame" cx="365" cy="365" r="347.6" />
                    <g class="sectors">
                        <path id="_1" d="M365,365V35.9A328.1,328.1,0,0,0,200.5,80Z" />
                        <path id="_2" d="M365,365,529.5,80A328.1,328.1,0,0,0,365,35.9Z" />
                        <path id="_3" d="M365,365,650,200.5A328.5,328.5,0,0,0,529.5,80Z" />
                        <path id="_4" d="M365,365H694.1A328.1,328.1,0,0,0,650,200.5Z" />
                        <path id="_5" d="M365,365,650,529.5A328.1,328.1,0,0,0,694.1,365Z" />
                        <path id="_6" d="M365,365,529.5,650A328.5,328.5,0,0,0,650,529.5Z" />
                        <path id="_7" d="M365,365V694.1A328.1,328.1,0,0,0,529.5,650Z" />
                        <path id="_8" d="M365,365,200.5,650A328.1,328.1,0,0,0,365,694.1Z" />
                        <path id="_9" d="M365,365,80,529.5A328.5,328.5,0,0,0,200.5,650Z" />
                        <path id="_10" d="M365,365H35.9A328.1,328.1,0,0,0,80,529.5Z" />
                        <path id="_11" d="M365,365,80,200.5A328.1,328.1,0,0,0,35.9,365Z" />
                        <path id="_12" d="M365,365,200.5,80A328.5,328.5,0,0,0,80,200.5Z" />
                    </g>

                    <g id="emojisGroup"></g>

                    <g class="sticks">
                        <rect x="360.4" width="9.3" height="24.33" rx="4" ry="4" />
                        <rect x="352.8" y="713.2" width="24.3" height="9.27" rx="4" ry="4"
                            transform="translate(1082.8 352.8) rotate(90)" />
                        <rect x="176.4" y="54.8" width="24.3" height="9.27" rx="4" ry="4"
                            transform="translate(145.8 -133.6) rotate(60)" />
                        <rect x="529.2" y="665.9" width="24.3" height="9.27" rx="4" ry="4"
                            transform="translate(851.4 -133.6) rotate(60)" />
                        <rect x="47.3" y="183.9" width="24.3" height="9.27" rx="4" ry="4"
                            transform="translate(102.3 -4.5) rotate(30)" />
                        <rect x="658.4" y="536.8" width="24.3" height="9.27" rx="4" ry="4"
                            transform="translate(360.5 -262.7) rotate(30)" />
                        <rect y="360.4" width="24.3" height="9.27" rx="4" ry="4" />
                        <rect x="705.7" y="360.4" width="24.3" height="9.27" rx="4" ry="4" />
                        <rect x="47.3" y="536.8" width="24.3" height="9.27" rx="4" ry="4"
                            transform="translate(-262.7 102.3) rotate(-30)" />
                        <rect x="658.4" y="183.9" width="24.3" height="9.27" rx="4" ry="4"
                            transform="translate(-4.5 360.5) rotate(-30)" />
                        <rect x="176.4" y="665.9" width="24.3" height="9.27" rx="4" ry="4"
                            transform="translate(-486.4 498.6) rotate(-60)" />
                        <rect x="529.2" y="54.8" width="24.3" height="9.27" rx="4" ry="4"
                            transform="translate(219.2 498.6) rotate(-60)" />
                    </g>
                    <g class="middle">
                        <circle cx="365" cy="365" r="54.5" fill="#fff" />
                        <circle cx="365" cy="365" r="11.6" fill="#ccc" />
                    </g>
                </g>
                <g class="active">
                    <path class="winIndicator"
                        d="M711.9,157.4a38.4,38.4,0,0,0-66,1.8l-31.5,57.5a2.1,2.1,0,0,0,0,2.4,2.6,2.6,0,0,0,2.2,1.2l65.6-3.9a39.6,39.6,0,0,0,17.9-5.9A38.5,38.5,0,0,0,711.9,157.4Z" />
                </g>
            </svg>
        </div>
    </div>

    <div class="controls">
        <button id="btnPlay">×™××œ×œ×” ×¡×•×‘×‘×™ ××ª ×”×’×œ×’×œ ×× ×™ ×¨×¢×‘ ğŸ¤¤</button>
    </div>

    <div id="result-box">
        <span class="result-emoji">â“</span>
        <span class="text"></span>
    </div>

    <script>
        $(document).ready(function () {

            // ×¨×©×™××ª ×”×××›×œ×™× - ×—×©×•×‘ ×©×™×”×™×• ×‘×“×™×•×§ 12
            const foodItems = [
                { name: "×¡×˜×™×™×§ ×•×¦'×™×¤×¡", emoji: "ğŸ¥©" },
                { name: "×›×™×¡×•× ×™×", emoji: "ğŸ¥Ÿ" },
                { name: "×¤×—×–× ×™×•×ª", emoji: "ğŸ§" },
                { name: "×¡×•×©×™", emoji: "ğŸ£" },
                { name: "×”××‘×•×¨×’×¨", emoji: "ğŸ”" },
                { name: "×¤×™×¦×”", emoji: "ğŸ•" },
                { name: "×¢×•×’×ª ×‘×¡×§×•×•×™×˜×™×", emoji: "ğŸ°" },
                { name: "×¤×¡×˜×”", emoji: "ğŸ" },
                { name: "× ×•×“×œ×¡", emoji: "ğŸ¥¡" },
                { name: "×§×•×¡×§×•×¡", emoji: "ğŸ²" },
                { name: "×¤× ×§×™×™×§×¡", emoji: "ğŸ¥" },
                { name: "×©× ×™×¦×œ", emoji: "ğŸ—" }
            ];

            // ×”×•×¡×¤×ª ×”××™××•×’'×™× ×œ×’×œ×’×œ
            const emojisGroup = document.getElementById('emojisGroup');
            const centerX = 365;
            const centerY = 365;
            const radius = 250;

            foodItems.forEach((item, index) => {
                const angleDeg = (index * 30) - 15;

                const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
                text.textContent = item.emoji;
                text.setAttribute("x", centerX);
                text.setAttribute("y", centerY - radius);
                text.setAttribute("class", "sector-emoji");
                text.setAttribute("text-anchor", "middle");
                text.setAttribute("dominant-baseline", "middle");
                text.setAttribute("transform", `rotate(${angleDeg}, ${centerX}, ${centerY})`);

                emojisGroup.appendChild(text);
            });

            var wheel = $(".wheel"),
                active = $(".active"),
                $btnPlay = $("#btnPlay"),
                $resultBox = $("#result-box");

            var indicator = gsap.timeline({ paused: true });
            indicator.to(active, 0.13, { rotation: -10, transformOrigin: "65% 36%", ease: "power1.out" })
                .to(active, 0.13, { rotation: 3, ease: "power4.out" });

            function spinTheWheel() {
                $resultBox.hide();
                $btnPlay.prop('disabled', true).text("××¡×ª×•×‘×‘... ğŸ¤©");
                $btnPlay.css("background-color", "#b2bec3"); // ×©×™× ×•×™ ×¦×‘×¢ ×›×¤×ª×•×¨ ×›×©×”×•× ×× ×•×˜×¨×œ

                var randomAngle = Math.floor(Math.random() * 360);
                var totalRotation = 1800 + randomAngle;

                gsap.to(wheel, {
                    duration: 5,
                    rotation: totalRotation,
                    transformOrigin: "50% 50%",
                    ease: "power4.out",
                    onUpdate: function () {
                        var currentRot = gsap.getProperty(wheel[0], "rotation");
                        if (Math.round(currentRot) % 30 <= 5) {
                            indicator.restart();
                        }
                    },
                    onComplete: function () {
                        // ×”×©×’×ª ×”×–×•×•×™×ª ×”×¡×•×¤×™×ª ×”×××™×ª×™×ª (××ª×•×š ×”××•×“×•×œ×• ×©×œ 360)
                        var actualDegree = totalRotation % 360;

                        /* ×ª×™×§×•×Ÿ ×”×—×™×©×•×‘:
                           ×”×’×œ×’×œ ××¡×ª×•×‘×‘ ×¢× ×›×™×•×•×Ÿ ×”×©×¢×•×Ÿ, ×œ×›×Ÿ ×× ×—× ×• ××—×¡×™×¨×™× ×-360.
                           ×”××™××•×’'×™ ×”×¨××©×•×Ÿ (××™× ×“×§×¡ 0) × ××¦× ×œ××¢×œ×”, ××‘×œ ×”××—×˜ × ××¦××ª ×‘×¦×“ ×™××™×Ÿ (90 ××¢×œ×•×ª).
                           ×”×”×¡×˜×” ×©×œ ×”-75 ××¢×œ×•×ª ×›××Ÿ ×××–× ×ª ××ª ×”××™×§×•× ×©×œ ×”××—×˜ ××•×œ ×”×¤×œ×—×™×.
                        */
                        var index = Math.floor(((360 - actualDegree + 75) % 360) / 30);

                        // ×”×’× ×” ×¢×œ ×˜×•×•×— ×”××™× ×“×§×¡
                        if (index < 0) index = 11;
                        if (index > 11) index = 0;

                        showResult(foodItems[index]);
                    }
                });
            }

            function showResult(item) {
                $btnPlay.prop('disabled', false).text("×¡×™×‘×•×‘ × ×•×¡×£? ğŸ²");
                $btnPlay.css("background-color", "#e84393"); // ×”×—×–×¨×ª ×”×¦×‘×¢ ×”×•×¨×•×“

                $resultBox.find('.result-emoji').text(item.emoji);
                $resultBox.find('.text').html(`××™×–×” ×›×™×£ ×™×¦× <strong>${item.name}</strong>!<br>×× ×™ ×›×‘×¨ ×œ× ×™×›×•×œ ×œ×—×›×•×ª ğŸ˜‰`);
                $resultBox.fadeIn();
            }

            $btnPlay.click(function () {
                gsap.set(wheel, { rotation: 0 });
                spinTheWheel();
            });
        });
    </script>

</body>

</html>